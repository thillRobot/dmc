% Lecture Template for ME3050-001-002-Tristan Hill - Spring 2020
% Dynamics Modeling and Controls
% Frequency Response

% I am finally converting my stuff to BEAMER

% Document settings

%\documentclass{beamer}                  % for presentation ?
\documentclass[handout]{beamer}  % for handout ?
\usepackage{beamerthemesplit}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{multicol}
\usepackage{framed}
\usepackage{amssymb}


\lstdefinestyle{myCustomMatlabStyle}{
  language=Matlab,
  numbers=left,
  stepnumber=1,
  numbersep=10pt,
  tabsize=4,
  showspaces=false,
  showstringspaces=false
}
\lstset{basicstyle=\ttfamily\tiny,style=myCustomMatlabStyle}
%lstset{language=MATLAB,basicstyle=\ttfamily\small,showstringspaces=false}



\beamertemplateballitem

\definecolor{TTUpurple}{rgb}{0.3098, 0.1607, 0.5176} % TTU Purple (primary)
\definecolor{TTUgold}{rgb}{1.0000, 0.8666, 0.0000} % TTU Gold (primary)

\setbeamercolor{palette primary}{bg=TTUpurple,fg=TTUgold}
\setbeamercolor{palette secondary}{bg=black,fg=TTUgold}
\setbeamercolor{palette tertiary}{bg=black,fg=TTUpurple}
\setbeamercolor{palette quaternary}{bg=TTUgold,fg=black}
\setbeamercolor{structure}{fg=TTUpurple} % itemize, enumerate, etc
\setbeamercolor{section in toc}{fg=TTUpurple} % TOC sections

%\DeclareSymbolFont{bbold}{U}{bbold}{m}{n}
%\DeclareSymbolFontAlphabet{\mathbbold}{bbold}

%\newcommand{\bbfamily}{\fontencoding{U}\fontfamily{bbold}\selectfont}
%\DeclareMathAlphabet{\mathbbold}{U}{bbold}{m}{n}

%\usefonttheme{professionalfonts}

\newcommand{\vspccc}{\vspace{6mm}\\} % large vertical space
\newcommand{\vspcc}{\vspace{4mm}\\}   % medium vertical space
\newcommand{\vspc}{\vspace{2mm}\\}     % small vertical space

\newcommand{\hspcccc}{\hspace{10mm}} % large horizontal space
\newcommand{\hspccc}{\hspace{6mm}} % large horizontal space
\newcommand{\hspcc}{\hspace{4mm}}   % medium horizontal space
\newcommand{\hspc}{\hspace{2mm}}     % small horizontal space


\newcommand{\LT}{\mathcal{L}} % lagrangian

\newcommand{\LNUM}{3 } %Lecture number 2

\newcommand{\secondtitle}{Frequency Response of 2$^{nd}$ Order Systems}% second line of the title of this presentation , aka the topic of this lecture

\title{Frequency Response - Lecture \LNUM}
\author{ME3050 - Dynamics Modeling and Controls} % original formatting from Mike Renfro, September 21, 2004

\date{April  25, 2020}

\begin{document}

\lstset{language=MATLAB,basicstyle=\ttfamily\small,showstringspaces=false}

% Title page1 
\frame{\titlepage \center\textbf{\secondtitle}\vspcc}


% Section 0: Outline
\frame{

\large \textbf{Lecture \LNUM - \secondtitle} \vspc

 \begin{itemize}

	\item Review Transfer Functions\vspc % Section 1: 

	\item Frequency Response of Overdamped Systems\vspc % Section 2
	
	\item Frequency Response of Underdamped Systems\vspc %Section 3

	\item MATLAB code for Bode Plots \vspc %Section 3
%\item Graph of Frequency Response in MATLAB\vspace{2mm} % Section 4

\end{itemize}

}


%Section 1: Review Transfer Functions
\section{Review Transfer Functions}

\subsection{Equivalent System Representations}
\frame{
\frametitle{Equivalent System Representations}

\small 
The{\bf Transfer Function} is the input-output relationship in the frequency domain and can be found from the equation of motion of the system.\vspcc 

\scalebox{1.25}{$T(s)=\frac{X(s)}{F(s)}$}\vspcc

The Transfer Function is an equivalent representation of the system. \vspcc
\begin{framed}
\scalebox{1.25}{E.O.M$\hspace{5mm} \leftrightarrow \hspace{5mm}$ T(s)$\hspace{5mm} \leftrightarrow \hspace{5mm}$ Block Diagram}\\
\end{framed}

}

\subsection{Transfer Function of 2$^{nd}$ Order System}
\frame{
\frametitle{Transfer Function of 2$^{nd}$ Order System}

\scalebox{1}{$m\ddot{x}+c\dot{x}+kx=f(t)$ \hspace{5mm}with\hspace{5mm} $f(t)=Asin(\omega t)$} \vspcc
The transfer function can easily be found by taking the Laplace transform of the equation of motion. \vspcc

\begin{framed}
\scalebox{1}{$T(s)=\frac{X(s)}{F(s)}=\frac{1}{ms^2+cs+k}$ \hspace{5mm} Second Order Transfer Function} \vspc
\end{framed}

}

% section 2: Frequency Response of Overdamped Systems

\section{Frequency Response of Overdamped Systems}

\subsection{The Overdamped System}
\frame{
\frametitle{The Overdamped System}

\small

In an \underline{ overdamped} system, both roots are real and distinct.\vspcc
The transfer function is shown below in terms of the system parameters\vspc

\scalebox{1.0}{$T(s)=\frac{1/k}{\left(\frac{m}{k}\right)s^2+\left(\frac{c}{k}\right)s+1}=\frac{1/k}{(\tau_1 s+1)(\tau_2 s+1)} \hspace{5mm} \tau_1,\tau_2$ - time constants of the roots}\vspc

Substitute $s=j\omega$ into the transfer function.\vspc
\scalebox{1.0}{$T(s) \rightarrow T(j\omega) =\frac{1/k}{\left(\tau_1j\omega+1\right)\left(\tau_1j\omega+1\right)}$}\vspc

Now find the magnitude ratio anf phase angle. Convert to nunits of decibels and use log rules to expand.\vspc
\scalebox{1}{$M\left(\omega\right)=|T\left(j\omega\right)|=\frac{|1/k|}{|\tau_1j\omega+1||\tau_2j\omega+1|}$} \vspc
\scalebox{1}{$m\left(\omega\right)=20logM\left(\omega\right)=20log|1/k|-20log|\tau_1\omega j+1|-20log|\tau_2\omega j+1|$}

}

\subsection{The Bode Diagram}
\frame{
\frametitle{The Bode Diagram}
\small
These three terms can be seen on the Bode diagram. \vspc
\scalebox{1}{$m\left(\omega\right)=20logM\left(\omega\right)=20log|1/k|-20log|\tau_1\omega j+1|-20log|\tau_2\omega j+1|$}\vspc

\includegraphics[scale=.30]{lecture3_fig3.png}

This shows that the magnitude ratio of the system across different regions of the input frequency. 

}

\subsection{Dependence on Input Frequency}
\frame{
\frametitle{Dependence on Input Frequency}
\begin{multicols}{2}

\includegraphics[scale=.27]{lecture2_fig2.png}

You can see that the magnitude ratio decreases as the input frequency increases. The individual curves represent systems with different time constants. 

\end{multicols}

}

\subsection{Review Properties of Logarithms}
\frame{
\frametitle{Review Properties of Logarithms}

\underline{Basic Properties of Logarithms:}\vspc
\renewcommand{\arraystretch}{2.0}
\begin{tabular}{cc}
Multiplication&\scalebox{1}{$log(pq)=log(p)+log(q) $} \\
Division&\scalebox{1}{$log(\frac{x}{y})=log(x)-log(y)$} \\
Power&\scalebox{1}{$log(x^n)=nlog(x)$}\\
\end{tabular}

\underline{Units of Decibels for Magnitude:}\vspc
\scalebox{1}{$m(dB)=10log(M^2)=20log(M)$ \hspccc convert back: \hspccc $M=10^{\frac{m(dB)}{20}}$}
}

\section{Magnitude Ratio in Decibels}

\subsection{Magnitude Ratio on a Logarithmic Scale}
\frame{
\frametitle{Magnitude Ratio on a Logarithmic Scale}


These relationships are more useful shown on a logarithmic scale. We can make use of the properties of logarithms in our analysis. \vspcc

\scalebox{1}{$m\left(dB\right)=20log\left(\frac{1}{\sqrt{1+\omega^2\tau^2}}\right)=20\left(log\left(1\right)-log\sqrt{1+\omega^2\tau^2}\right)$}\vspc
\scalebox{1}{$m\left(dB\right)=20log\left(1\right)-10log\left(1+\omega^2\tau^2\right)=-10log\left(1+\omega^2\tau^2\right)$}\vspc
\begin{framed}
\scalebox{1}{$m\left(dB\right)=-10log\left(1+\omega^2\tau^2\right)$}\vspc magnitude ratio in decibels
\end{framed}
}

\subsection{Magnitude Ratio on a Logarithmic Scale}
\frame{
\frametitle{Magnitude Ratio on a Logarithmic Scale}
\begin{multicols}{2}

\includegraphics[scale=.30]{lecture2_fig7.png}
This is a Bode plot. It seems abstract but there is some very useful information shown.\vspc

  \includegraphics[scale=.4]{hendrikbode.png} \vspc Hendrik Bode (1905-1982) 

\end{multicols}
}

\subsection{Bode Plot in MATLAB}
\frame[containsverbatim]{
\frametitle{Bode Plot in MATLAB}

MATLAB has a built it tool for making Bode plots.  
\begin{multicols}{2}
\includegraphics[scale=.25]{lecture2_fig9.png}

\begin{lstlisting}
figure(1)
sys=tf(1,[tau(3) 1])
bode(sys);grid on
\end{lstlisting}
\end{multicols}
}

% references is not a section for now, for looks and it would be a waste of space
\frame{

\frametitle{References}

\begin{itemize}
	\item System Dynamics, Palm III, Third Edition - Chapter 9 - System Response in the Frequency Domain
\end{itemize}

}

\end{document}









 